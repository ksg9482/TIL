### 단위 테스트의 목표
단위 테스트는 더 나은 설계로 이어진다. 하지만 이는 단위 테스트의 목표가 아니다. 더 나은 설계는 단지 부수효과일 뿐이다.
코드 조각을 단위 테스트 하는 것은 훌륭한 잣대를 제공한다. 괜찮은 부정 지표로서 비교적 높은 확률로 저품질 코드를 가려낸다. 
코드를 단위테스트 하기 어렵다면 코드 개선이 필요하다는 의미이다. 보통 강결합에서 저품질이 나타나는데, 제품 코드가 충분히 분리되지 않아서 따로 테스트하기 어렵다는 뜻이다.

단위 테스트의 목표는 소프트웨어 프로젝트의 지속가능한 성장을 가능하게 하는 것이다. 핵심은 '지속 가능'이다. 
테스트는 안전망 역할을 하며 대부분의 회귀에 대한 보험을 제공하는 도구이다. 지속성과 확장성이 핵심이며 이를 통해 장기적으로 개발 속도를 유지 할 수 있다. 

### 코드 커버리지 지표
가장 많이 사용되는 커버리지 지표로 코드 커버리지가 있다. 하나 이상의 테스트로 실행된 코드 라인수와 제품 코드 베이스의 전체 라인수의 비율이다.
하지만 메서드 코드의 내용을 바꾸지 않고 구조를 수정하는 것만으로도 커버리지에 간섭할 수 있다.

또다른 커버리지 지표로 분기 커버리지가 있다. if문과 switch문과 같은 제어구조에 중점을 두어 하나 이상의 테스트가 통과하는 제어구조의 수를 나타낸다.
분기 커버리지로 코드 커버리지보다 나은 결과를 얻을 수 있지만 테스트의 품질을 결정하는 데 어떤 커버리지 지표도 의존할 수는 없다.
테스트 대상 시스템의 모든 가능할 결과를 검증한다 보장할 수 없고 외부 라이브러리 코드 경로를 고려할 수 있는 커버리지 지표는 없기 때문이다.

따라서 커버리지 지표는 좋은 부정지표이자 나쁜 긍정 지표다. 커버리지가 낮으면 문제 징후이지만 높아도 좋은 품질을 보증하는 것은 아니다.

### 좋은 테스트를 만드는 법
* 개발 주기에 통합되어 있음
  * 모든 테스트는 개발 주기에 통합되어야 한다. 이상적으로는 코드가 변경될 때마다 아무리 작은 것이라도 실행해야 한다.
* 가장 중요한 부분을 대상으로 한다.
  * 시스템의 가장 중요한 부분에 단위 테스트 노력을 기울이고 다른 부분은 간략하게 또는 간접적으로 테스트하는 것이 좋다.
  * 대부분 비즈니스 로직이 중요한 경우가 많기 때문에 비즈니스 로직 테스트가 시간 투자 대비 최고 수익을 낼 수 있다.
  * 이 지침을 따르려면 도메인 모델을 다른 어플리케이션 문제와 분리해야 한다. 분리해야 노력을 도메인 모델에 집중 할 수 있다.
* 최소 유지비로 최대 가치
  * 단위 테스트에서 가장 어려운 것은 최소 유지비로 최대 가치를 달성하는 것이다. 중요한 건 가치가 유지비를 상회하는 테스트를 유지하는 것이다.
  * 가치 있는 테스트 식별하기, 가치 있는 테스트 작성하기
  * 가치가 높은 테스트를 식별하려면 기준틀이 있어야 하고 가치 있는 테스트를 작성하려면 코드 설계 기술을 알아야 한다.
