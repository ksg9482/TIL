### 신중하게 행동하라
제대로 하기와 빨리 하기 중 하나를 선택해야 할 때 빨리하기를 선택하는 경우가 많다. 하지만 빨리 하기를 선택해서 생겨난 기술채무는 원금에 이자까지 지불해야 한다.   

반드시 기술채무를 져야만 하는 상황이 아니라면 피하도록 노력하고, 가능한한 이런 상황에 빠지지 않도록 해야한다. 타협하는 결정을 내렸다면 잊지 않도록 태스크 카드를 작성하거나 이슈 추적 시스템에 등록해야 한다.   

기술 채무를 추적하지 않거나 갚지 않는 것은 프로젝트를 위험한 상태로 만드는 것이다.

### 함수형 프로그래밍 법칙을 적용하라
함수형 프로그래밍의 패러다임을 깊게 이해하고 적용한다면 설계는 훨씬 높은 수준의 참조투명성을 얻게 된다. 참조 투명성은 함수들이 주어진 같은 입력에 대해 언제 어디서 호출되든지 지속적으로 같은 결과를 얻는 것을 의미한다.   

명령형 코드가 갖는 결함의 주요 원인은 변하기 쉬운 변수들이기 때문에 이를 보완할 수 있다. 함수형 패러다임을 적용한 설계는 변하기 쉬운 멤버 변수를 참조하기 보다는 그것들을 함수의 인자로 전달하고 좀 더 작고 많은 수의 함수들로 책임을 나누는 형태의 설계이다.   

다른 영역에도 함수형 프로그래밍의 교훈을 적용할 수 있도록 마스터하면 코드는 생각했던 것 보다 더욱 함수형 언어를 닮아갈 것이다.

### 당신은 사용자가 아니다
사람들은 다른 사람도 자기처럼 생각할 것이라 가정하는 경향이 있다. 이러한 편향은 프로그래머가 사용자 입장이 되기 힘들게 한다. 사용자들이 어떻게 생각하는지 가장 좋은 방법은 그들을 관찰하는 것이다.   

사용자들은 작업의 중요한 부분을 비슷한 방법으로 수행하려 하기에 같은 곳에서 같은 실수를 하고, 실수를 할수록 시야가 좁아진다. 또 사용자들은 해결법을 찾게 되면 그 방법을 고집하는 경향이 있어서, 두세가지 지름길보다 실제로 작업을 처리하는 확실한 한가지 방법을 제시하는 것이 좋다.

사용자가 원한다고 말하는 것과 실제로 하는 것과는 차이가 있다. 요구사항을 알기 위해 묻는 것보다 관찰하는게 더 많은 정보를 얻을 수 있다.

### 코딩 표준을 자동화 하라
프로젝트 초기에 코딩 표준을 정해도, 프로젝트가 완성되면 코드는 난잡해진다. 그럼에도 코딩 표준을 정하는 이유는 개인이 자기만의 방식대로 작성하는 일을 막을 수 있기 때문이다.

코딩 표준은 안티패턴을 피하게 해주고 더 일하기 쉽게, 개발 속도를 유지하도록 해준다. 그렇기 때문에 가능한 부분에서는 이를 자동화해야 하고, 중요한 부분일수록 더욱 그렇게 해야 한다. 자동으로 체크할 수 없는 곳은 가이드라인을 만드는 것도 고려하는 것이 좋다. 

하지만 완벽하게 코딩 표준을 따르지 못할 수 있다는 것을 받아들이는 것도 중요하다. 마지막으로 코딩 표준은 동적이여야 한다. 프로젝트가 진행되면 초기에 현명해 보이던 것도 다르게 보이게 된다.

### 5. 아름다움은 단순함에 있다.
가독성, 유지보수성, 개발 속도, 정의하기 어려운 아름다움에 대한 품질을 가능하게 해주는 요소는 단순함이다. 

전체적으로 어플리케이션이나 시스템이 복잡하더라도 개별 부분들은 단순해야 한다. 간단한 객체는 하나의 기능에 대해 책임을 지며 이와 비슷하게 간단하면서 명료한 함수들을 가져야 한다.

아름다운 코드란 근본적으로 간결한 코드이다. 각 개별 부분은 간단한 책임을 지며, 시스템의 다른 부분과 간단한 관계를 유지한다. 이렇게 되면 시스템의 생명주기 동안 개발 속도를 일정하게 유지 할 수 있고, 테스트와 유지보수가 간단해진다.

### 리팩토링하기 전에
* 가장 좋은 접근법은 기존 코드와 그에 대한 테스트를 평가하면서 시작하는 것이다. 그래야 코드의 강점과 약점을 이해하고 실수를 피할 수 있다.

* 모든 것을 새로 작성하려는 유혹을 피하라. 이전 코드를 버리는 것은 테스트와 실전을 통해 단련된 코드를 만드는데 들인 시간을 버리는 것이다. 가능한한 재사용하는 것이 좋다.

* 한번의 큰 변화 보다는 여러번의 점진적인 변화가 더 좋다. 더 빨리 피드백을 받을 수 있고, 더 쉽게 시스템에 끼치는 영향을 가늠할 수 있다.

* 각각의 반복 이후에 기존 테스트를 통과하는 것이 중요하다. 이전 테스트를 합당한 고려 없이 버리는 것은 안되고, 작성된 테스트는 왜 작성되었는지 곰곰히 생각해보라.

* 개인적인 선호와 자기 생각이 개입되어서는 안된다. 코드 스타일과 구조가 개인적 선호도를 충족시키지 못했다는 것은 리팩토링의 정당한 사유가 아니다.

* 새로운 기술의 등장은 리팩토링의 이유가 될 수 없다. 새로운 언어나 프레임워크가 생산성을 얼마나 개선 할 수 있다는 비용 편익 분석이 나오지 않는 한 현 상태를 유지하는 것이 최선이다.

* 인간은 실수를 범한다. 리팩토링을 한다고 항상 코드가 좋아지는 것이 아니다.

### 공용화에 대해 주의하라
시스템에서 매우 다른 두 부분이 같은 방법으로 어떤 로직을 수행하는 것은 생각외로 적다. 유사한 코드는 우연이었을 가능성이 있고, 각각은 독립적으로 발전할 수 있다.

문맥에 맞지 않고 지역화되어 처리되지 않았다면 시스템의 코드 라인 수는 줄어도 의존성이 증가하고, 그 의존성이 통제되지 않을 때 시스템의 관계는 얽히게 된다. 

핵심 부분에서는 공용 코드를 사용하는 것이 좋다고 하지만 이는 올바른 문맥에서 적용되었을 때에 해당한다. 공용화할 때에는 문맥을 먼저 리뷰해야 한다.

### 다른 사람을 비난하기 전에 먼저 자신의 코드를 리뷰하라
개발자들은 보통 자기 코드에 문제가 없다고 생각하는 경향이 있다. 버그가 발생한다면 다른 것보다 자기 코드의 에러를 찾는 것이 더 현명하다.

모든 디버깅 조언을 적용하여 문제를 주변과 격리시키고, 테스트와 관계없는 호출은 스텁(stub)으로 대체한 다음에, 테스트를 수행하라. 그리고 호출 형태, 라이브러리, 버전을 확인하여 다른 환경에서 그 코드를 수행하라.

만약 다른 사람에게 발생한 문제가 내게는 재현할 수 없는 문제라면 직접 가서 살펴보고, 또 자신이 생각한 가정과 다른 사람이나 도구의 가정이 같지 않음을 고려해야 한다.

### 심사숙고해서 도구를 선택하라
최근의 어플리케이션은 아무것도 없이 처음부터 만들어지는 경우가 거의 없다. 기존에 존재하는 도구를 이용해 만들어지고, 크기가 커지고 복잡해지는 반면 개발 시간은 더욱 짧아지고 있다.

널리 사용되는 도구들은 안정적이고 편리하지만 서로 전제되는 가정이 다를수도 있고 나중에 호환되지 않을 수 있는 위험성을 가지고 있다. 또한 특정 회사의 도구에 대한 의존도가 높다면 그 회사에 종속될 수도 있다.

따라서 반드시 필요한 도구만을 사용해 조금씩 시작해야 한다. 비즈니스 도메인 객체와 외부 도구를 분리하여 변경이 필요한 경우 적은 수고로 변경할 수 있게 해야 한다.


### 코드는 설계다
오래된 모델, 미완성된 설계는 최종 목표를 개선하고 반복적으로 수행됨으로써 진화한다. 일반인은 완성품과 미완성 설계를 구분하기 쉽지 않고, 공사 기간을 예측하는 것은 점점 어려워진다. 

설계 비용을 계산하는 것은 만만치 않고 비용을 예측하는 것의 중요성은 높아지지만 신뢰할 만한 결과를 얻기는 쉽지 않다. 설계 기간을 줄이는 것은 중요한 요소지만 불완전한 설계로 인해 소비자들은 고통받는다. 놀랍게도 공사비용 감소는 전체적인 품질저하를 부를수도 있다는 것이다.

이 이야기는 소프트웨어에도 적용된다. 코드를 설계라 받아들일 수 있다면 소프트웨어의 위기는 곧 설계의 위기라 볼 수 있다. 테스트와 시스템을 통제하는 방법을 찾는 것으로 좋은 설계를 얻을 수 있다.


### 코드 레이아웃은 중요하다
어떤 연구 결과에서는 프로그래머들이 실제 동작하는 코드를 작성하는 것보다 수정해야 할 부분을 찾아내기 위해 코드를 읽는 것에 더 많은 시간을 할애한다는 것이 밝혀졌다. 그러므로 가능한 한 코드를 읽기 쉽게 작성해야 한다.

* 발견하기 쉽게 하기 위해 - 사람들은 시각적 패턴 구분에 능숙하다. 도메인과 관계없는 부분은 표준화해 부각되지 않게 만들면, 두드러지게 다른 기능을 하는 부분은 쉽게 찾을 수 있다. 
따라서 상수, 변수, public메서드, private메서드가 일정한 위치를 지키도록 하자.

* 표현력 있는 레이아웃 - 주석을 작성하는 것보다 코드가 명확히 표현하는 것이 좋다. 코드에 의도를 반영하는 것은 프로그래밍 언어의 문법을 잘 지키는 것이 아니라 줄바꿈이나 들여쓰기 같은 레이아웃이 중요하다.

* 군더더기 없는 형식 - 키워드를 색으로 구분하거나 통합 개발 환경 등 레이아웃이 코드를 이해하는데 도움을 주게 할 수 있다. 

### 코드 리뷰
코드 리뷰를 반드시 해야 한다. 코드 품질을 높여주고 결함률을 줄여주기 때문이다. 코드 리뷰는 지식을 공유하고 공통의 코딩 가이드라인을 구축하는데 목적이 있다. 에러를 찾는 대신 코드를 배우고 이해하는 것이다.

리뷰 결과는 비판적이 아니라 건설적이어야 한다. 코드 리류를 재미있게 하는 것은 성공의 가장 중요한 요인이다. 리뷰 미팅 때마다 서로 다른 리뷰 역할을 도입하거나 매주 정기적인 코드 리뷰 시간을 갖는 것이 좋다.

신입을 코드 리뷰에 포함하여 신선한 시각을 얻고, 경험과 지식을 갖춘 전문가를 포함하여 에러를 더 빨리 더 정확하게 검출할 수 있게 하라.

### 이치에 맞는 코딩
소프트웨어의 정확성을 직접 추론하려는 노력은 오류가 생기기 쉽다. 정확성에 대해 준공식적으로(semi-formally) 추론하는 중도(middle-path)에 대해 설명한다. 접근법은 모든 코드를 짧은 섹션으로 나눠서 그 정확도를 따지는 것이다. 

섹션은 가능한 독립적으로 만드는데, 이는 논리적으로 생각하게 하는 것을 간단하게 해주고 수정의 여파를 줄여준다. 

잘 알려지고 좋은 코딩 관행 또한 추론에 도움을 준다. 코드에 대해 추론하려고 하는 것만으로 이미 더 좋은 스타일과 구조에 대해 생각하기 시작한 것이다.
* goto문, 수정가능한 전역 변수 등은 떨어져있는 섹션을 의존적으로 만든다. 각각의 변수는 가장 작은 영역을 가져야하며 객체가 참조될때는 변경불가능하게 해야 한다.

* 수직과 수평의 공백을 사용해 코드를 읽을 수 있게 하고, 객체나 타입이나 함수 등에 이름만으로 이해할 수 있도록 설명적인 이름을 가져야 한다.

* 중첩되는 섹션은 함수로 만들고, 각 함수는 짧으면서(24줄 제한은 지금도 유효하다) 하나의 작업에 치중해야 한다. 함수는 적은 수(4개가 상한)의 인자를 가져야 하고, 관련된 인자를 하나의 객체로 그룹화하여 객체 상수의 이점을 얻어라.

* 더 일반적으로, 라이브러리 블록으로부터의 개개의 코드유닛은 좁은 인터페이스를 가져야 한다. 객체에게 작업을 하기 위해 정보를 요청하는 것이 아니라 객체에 그 정보를 가지고 작업하도록 요청해야 한다. 그리고 객체의 상태를 지배하는 상수를 바뀌게 하는 수정자 함수의 사용을 자제해야 한다.

### 주석에 관한 조언
코드는 코드의 내용을 다른 프로그래머에게 스스로 설명해야 한다. 주석은 우리를 괴롭히는 것이 아니라 중요한 프로그래밍 요소이다.

코드 안에는 코드가 어떻게 동작할 것이라는 설명이 있어야 한다. 단, 주석을 너무 많이 달아 코드를 애매모호 하게 만들지 않도록 주의해야 하고 다른 프로그래머가 코드를 수정하거나 확장 할 때 도움이 되어야 한다.

### 단지 코드가 말하지 않는 것을 주석으로 추가하라
주석은 엉망이 되는 경우가 많다. 글을 작성하는 방법이 있듯이 좋은 주석을 작성하는 것에도 방법이 있다. 그런 방법의 대부분은 바로 언제 주석을 쓰지 않아야 하는지를 아는 것이다.

잘못된 주석은 오히려 프로그래머의 사고를 방해하는 장애물이다. 기술적으로 틀린 것은 아니지만 코드에 가치를 더할 수 없는 주석은 소음일 뿐이다. 코드를 다시한번 설명하는 것은 도움이 되지 않는다. 차라리 코드를 더 명확히 이해되도록 하는 것이 좋다.

주석은 코드가 이야기 하지 않는 것, 코드가 표현할 수 없는 것을 말해야 한다.

### 끊임없는 배움
스스로의 시장가치를 높이기 위해서는 지속적으로 배울 필요가 있다. 그렇지 않으면 계속 같은 일메 멈춰있는, 시대에 뒤떨어질 것이다. 교육은 누군가에게 의존하는 것이 아니라 스스로 책임질 필요가 있다.

블로그, 웹사이트, 책 등 접할 수 있는 것이 많고 어떤 기술에 몰입하기 원한다면 실제로 손에 잡히는 대로 코딩을 해야한다. 멘토를 찾거나 가상의 멘토를 만들어서 배우는 것도 좋다. 사용하는 라이브러리나 프레임워크가 있다면 그 동작원리를 이해하여 더 잘 활용할 수 있도록 하라. 

다른 언어와 새로운 기술, 도구를 배워라. 새로운 기술은 새로운 아이디어를 제공한다. 또 일하고 있는 도메인을 배우면 요구사항을 이해할 수 있게되고, 문제를 푸는데 도움이 될 수 있다.

시간을 투자하여 배워야 한다. 모든 시간을 쓰라는 것이 아니라, 아무것도 안하는 것보다는 조금의 시간을 내는 것이 좋다. 기술은 빠르게 변하고 있고 뒤쳐지지 말라.


### 상황에 맞는 예외처리가 필요하다
응용프로그램이 실행도중 중단되는 이유는 크게 두가지다. 하나는 기술문제고 나머지 하나는 비즈니스 로직 문제이다. 여기서 말하는 비즈니스 로직이란 사용자가 응용프로그램을 잘못 사용하는 경우를 대비해 만든것을 의미하는데, 오히려 이것이 시스템을 망가뜨릴 수 있다.

기술적인 예외와 비즈니스 예외를 같은 계층에서 처리하면 이들의 구분이 모호해진다. 두 예외를 따로 처리하면 명확성이 높아지고, 비즈니스 도메인 예외가 고객 코드에서 처리되는 동안 기술적인 예외가 다른 어플리케이션 프레임워크에서 처리할 수 있는 기회를 제공한다.

### 많은 의도적 수련 - 계획된 연습을 하라
의도적 수련은 단순히 일을 수행하는 것이 아니다. 의도적인 수련은 일에 관한 하나 혹은 그 이상의 방면에서 역량을 향상시킬 목적으로 일을 수행하는 것이다. 또 이것을 반복하는 것을 의미한다. 개발의 주요 목적은 제품을 만드는 것이지만, 의도적인 수련의 목적은 능력을 향상시키는 것이다.

전문 기술을 완성하는 중요한 요소는 타고난 능력이 아니라 의도적인 수련의 시간이다. 이미 충분히 잘하는 것을 수행하는 것이 아니라, 부족한 분야에서 발전을 위해 노력하는 것이다. 

전문성을 개발하는 핵심은 능력을 넘어서는 일에 도전하고, 그 일을 열심히 하고, 계속 하며, 성과를 분석해 실수를 고쳐나가는 것이다. 

### 부수는 것을 두려워하지 말라
시스템을 변경하는데 불안해하는 이유는 시스템이 건강하지 못하기 때문이다. 변화에 대한 두려움을 없애려면 리팩토링을 시도하라.

몇 번이고 시스템을 다루어본 경험은 그 시스템이 어떻게 동작해야 하는지 이해하는 전문가가 되도록 도와줄 것이다. 

항상 코드가 병들지 않고 건강하도록 돌보아라.

### 에러는 발견 즉시 고쳐라
에러가 발생했을 때 확인하지 않는 것은 미래에 발생할 수 있는 잠재적 문제를 쌓아둘 뿐이다. 다음과 같은 방법으로 코드에서 에러를 확인할 수 있다.

* 함수 리턴값 확인 - 너무 쉬워서 무시하기 쉽다. 또 문제를 부각시킬 수 있기 때문에 원하지 않을 수도 있다.

* 에러 관련 전역 변수 확인 - 쉽게 무시될 수 있고, 사용이 어렵고 잘못된 결과를 일으킬 수 있다.

* Exception 활용 - 구조적으로 에러를 탐색하고 처리하는 방식이다. 또 에러를 무시할 수도 없게 한다.

에러를 처리하지 않으면 버그 찾기가 쉽지 않아 코드가 불안정해지고, 에러처리가 완전하지 않은 빈틈으로 인해 보안에 취약점이 생길 수 있다. 게다가 끊임없이 오류가 발생하면 해당 코드 부분은 지속저긍로 변경되어야 하는만큼 잦은 수정으로 좋지 않은 인터페이스를 갖게 된다.


