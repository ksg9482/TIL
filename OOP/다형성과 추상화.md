# 다형성과 추상화

### 다형성
여러 모습을 갖는 것. 객체 지향에서는 한 객체가 여러 타입을 가질 수 있다. 타입 상속으로 다형성을 구현하고, 하위 타입은 상위 타입도 될 수 있다.

### 추상화
데이터나 프로세스 등을 의미가 비슷한 개념이나 의미 있는 표현으로 정의하는 과정. 

### 추상화 방식
* 특정한 성질
  * DB의 USER 테이블 - 사용자에서 아이디, 이름, 이메일을 뽑아낸다.
  * Money 클래스 - 통화, 금액

* 공통 성질(일반화)
  * GPU - 지포스, 라데온. 그래픽 처리를 위한 장치, GPU라는 공통점이 있음


```
다형성은 공통점을 뽑아내는 추상화 방식에 관련이 있다.
```

서로다른 구현에 공통된 특징이 있으면 추출해서 추상화 한다. 이것을 타입 추상화라 하고 타입 추상화는 여러 클래스를 대표하는 상위 타입이다. 보통 인터페이스 타입으로 추상화 한다.
추상화 타입과 구현은 타입 상속으로 연결된다.

* 타입 클래스: 기능에 대한 의미 제공하고, 구현은 제공하지 않음. 어떻게 구현할지 알 수 없음.
* 콘크리트 클래스: 구현을 제공하는 클래스. 콘크리트 클래스에서 구현을 제공하면 추상타입을 통해 구현을 감추고 구현이 아니라 의도를 더 잘 드러낼 수 있다.

### 추상 타입 사용의 이점
코드 작성이 유연해진다.

콘크리트 클래스를 서비스에 직접 이용하면 요구사항 변경에 따라 구현코드가 함께 변경된다. 
구현 코드(기능 구현 핵심) 자체는 변함이 없음에도 요구사항 추가 때문에 if / else 등 코드에 변경이 필요하다. 핵심 코드는 변함이 없는데도 부수 코드의 변화로 인해 핵심 코드가 영향을 받는다.

하지만 공통점을 도출하여 추상화하고, 사용할 대상 접근도 추상화 하면 내가 변경되는게 아니라 내가 사용하는 대상을 쉽게 바꿀 수 있는 유연함을 얻을 수 있다. 
또 각 구현체의 기능을 한 곳에서 관리할 수 있는 장점도 있다.

### 그러면 추상화는 언제 하는가?
* 의존 대상이 변경하는 시점에 해야한다. 
```
추상화를 한다는 것 -> 새로운 추상 타입이 증가한다는 것 -> 복잡도 증가
```
아직 존재하지 않는 기능에 대한 추상화는 잘못 추상화 가능성이 있고, 복잡도만 증가시킨다.
실제 변경, 확장이 발생할 때 추상화를 시도한다. 추상을 먼저 만들고 그 추상에 맞춰 구현을 하는게 아니다.

추상화를 잘 하려면 구현을 한 의도가 무엇 때문이지 생각해야 한다.

