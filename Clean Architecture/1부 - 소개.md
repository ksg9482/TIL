# 1부 - 소개
## 설계와 아키텍처
### 서론
수많은 앱이 있고, 또 수많은 시스템이 있다. 이것들은 온갖 영역에 걸쳐있어서 공통점이라곤 '코드'로 쓰여있다라는 것 밖에 없는 것처럼 보인다.   
그러나 놀랍게도 이 수많은 것들의 핵심은 같다. 바로 코드는 여전히 순차(sequence), 분기(selection), 반복(iteration)의 집합체라는 것이다.   
언어와 도구는 발전하고 변화 했지만 코드의 핵심은 바뀌지 않았다. 심지어 과거와 현재를 비교해봐도 프로그래밍을 이루는 구성요소는 동일하다.   

바뀌지 않았다는 것은 시스템의 종류와 관계없이 소프트웨어 아키텍처의 규칙이 일관될 수 있다는 뜻이다.   
   
시스템을 동작하도록 만드는 일은 쉽다. 그러나 제대로 만드는 것은 힘들다. 소프트웨어를 올바르게, 제대로 만드려면 적정수준의 지식과 기술을 겸비해야 한다. 제대로 만든 시스템 설계와 아키텍처는 구현과 유지보수를 쉽게 한다. 이는 더 적은 수의 프로그래머들이, 프로젝트를 더 휼륭히 완수하게 만든다.   

### 설계와 아키텍처
설계(design)와 아키텍처(architecture)는 무엇이고 어떤 차이가 있는가? 결론부터 말하면 둘 사이에 차이는 없다.   

일반적으로 아키텍처는 세부사항이 아닌 고수준의 무언가를 가리키고, 설계는 저수준의 구조나 결정사항등을 가리키는 경향이 있다.   
그러나 저수준의 세부사항과 고수준의 구조는 모두 소프트웨어 전체 설계의 구성요소이다. 개별로는 존재 할 수 없고, 실제로 이 둘은 구분짓는 경계는 뚜렷하지 않다.   
고수준에서 저수준으로 향하는 의사결정의 연속성만이 있을 뿐이다.   

### 목표
그렇다면 이런 의사결정의 목표는 무엇인가? 소프트웨어 아키텍처의 목표는 필요한 시스템을 만들고 유지보수하는데 투입되는 인력을 최소화 하는 것이다.   
새로운 기능을 출시할 때 마다 비용이 증가하면 나쁜 설계고, 고객의 요구를 만족시키는 데 드는 비용이 낮고 또 이후로도 낮게 유지할 수 있다면 좋은 설계다.   
   
좋은 설계의 가장 중요한 방침은 '깔끔하게 유지'하는 것이다.   
왜냐하면, **지저분한 코드는 깔끔하게 유지할 때보다 항상 느리기 때문이다**.
   
품질을 고려하려면 좋은 소프트웨어 아키텍처가 무엇인지 이해해야 한다.   
'최소 비용과 최대 생산성'을 실현하는 방법은, 그러한 결과로 이끌어 줄 시스템 아키텍처의 속성은 어떻게 되는지 아는 것이다.



## 두 가지 가치에 대한 이야기
모든 소프트웨어는 두가지 가치를 제공한다. 바로 <b>행위(behavior)와 구조(structure)</b>이다.   
소프트웨어 개발자는 이 두 가지 가치를 모두 높게 유지하는 책임을 진다.   
   
### 행위
프로그래머는 기능 명세나 요구사항이 구체적이도록 돕고, 기계가 이런 요구사항을 만족하도록 코드를 작성한다. 그리고 기계가 요구사항을 위반하면 프로그래머는 디버그를 통해 문제를 고친다.   

안타깝게도 이것이 소프트웨어 개발자인 자신의 일의 전부라고 생각하는 사람들도 많다.   
   
### 아키텍처
소프트웨어는 부드러운(soft) 제품(ware)이고, 부드럽다는 것은 변경이 쉬워야 한다는 뜻이다.   
요구사항이 변하면 쉽게 적용할 수 있어야 하는데, 그 어려움은 변경되는 범위(scope)에 비례해야지 변경사항의 형태(shape)와는 관련이 없어야 한다.   
   
소프트웨어 개발 비용의 증가를 결정짓는 주 요인은 이 변경사항의 범위와 형태의 차이에 있다.   
만약 시스템의 형태와 요구사항의 형태가 서로 맞지 않으면 변경사항을 적용하는데 힘들다.   
   
아키텍처가 특정 형태를 다른 형태보다 선호할수록 기능을 그 형태에 맞추는게 힘들어진다. 따라서 **아키텍처는 형태에 독립적일수록 실용적**이다.
   
### 더 높은 가치
그렇다면 이 둘중 무엇이 더 가치가 높을까?   
완벽하게 동작하지만 수정이 불가능한 프로그램은 요구사항이 변경되면 변경된 요구사항을 적용하지 못해 쓸모가 없어진다.   
동작하지 않지만 수정이 쉬운 프로그램은 프로그램이 동작하게 만들 수 있고, 요구사항이 변경되도 여전히 동작하도록 만들 수 있다.   
   
양 극단의 주장이지만, 변경으로 인해 창출되는 수익 보다 변경 비용이 더 커서 사실상 수정이 불가능한 시스템은 존재하기 마련이다.   
현재 기능의 동작여부 때문에 미래의 유연성을 뒤로 미루다 보면 '비용이 더 커서 수정할 수 없는' 상황에 처하게 될 것이다.   
   
일단, 중요성과 긴급성을 넷으로 구분해보자.   
* 긴급하고 중요하다
* 긴급하지 않지만 중요하다
* 긴급하지만 중요하지 않다
* 긴급하지도 중요하지도 않다
   
그렇다면 소프트웨어의 '행위'와 '아키텍처'는 어디에 속할까?   
행위(기능)는 긴급하지만 매번 높은 중요도를 가진 것은 아니다.   
아키텍처(구조)는 중요하지만 즉각적인 긴급성을 가진 것은 아니다.   
   
이렇게 생각해 본다면 아키텍처는 가장 높은 순위의 2가지를 차지하는 반면, 행위는 첫번째와 세번째를 차지한다.   
개발자들과 관리자들이 가장 흔하게 저지르는 실수는 '긴급하지만 중요하지 않은 일'을 '긴급하고 중요한 일'로 만들어 버리는 것이다.     
   
#### 아키텍처를 위해 투쟁하라
많은 이해관계자들이 스스로 중요하다고 믿는 것을 위해 투쟁하듯, 소프트웨어 개발자도 투쟁해야 한다. **소프트웨어를 안전하게 보호하는 일은 소프트웨어 개발자의 책임**이고 그것을 위해 고용된 것이기도 하다.   

아키텍처가 후순위가 되면 시스템 개발비용이 더 많이 들고, 시스템을 변경하는 일이 점점 힘들어진다. 이런 상황이 발생하도록 용납했다면 소프트웨어 개발자인 당신은 책무를 다하지 않았다는 것이고, 중요하다고 믿는 가치를 위해 투쟁하지 않았다는 뜻이다.
